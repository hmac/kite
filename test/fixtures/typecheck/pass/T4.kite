module T4

type Default a { Default [ def : a ] }

def : Default a -> a { match {
Default d -> d.def
}}

type D { A , B , C }

defaultD : Default D { Default [def: A] }

defD : D { def defaultD }

getDefD : Default D -> D { match { Default d -> d.def } }
